{% extends "layouts/base.njk" %}
{% import "widgets/site-header.njk" as header %}
{% import "widgets/flashNews.njk" as flashNewsWidget %}
{% import "widgets/footer.njk" as footer %}
{% import "widgets/widget-renderer.njk" as widgetRenderer %}

{% block body %}
{# Flash News Ticker #}
{% if flashNewsItems and flashNewsItems | length %}
<div class="container">
  {{ flashNewsWidget.flashNews('flash-news', flashNewsItems, {
    speed: 30,
    pauseDelay: 3000,
    duplicateCount: 2
  }) }}
</div>
{% endif %}

{# Site Header #}
{{ header.siteHeader(branding, navCategories) }}

<main class="site-main">
  {# Dynamically render widgets based on layout configuration #}
  {% for widget in layout %}
    {{ widgetRenderer.render(widget) }}
  {% endfor %}
</main>

{# Site Footer #}
{{ footer.siteFooter(branding, navCategories) }}
{% endblock %}

{% block scripts %}
<script src="/static/js/carousel.js"></script>
<script src="/static/js/flash-news.js"></script>
<script src="/static/js/mobile-menu.js"></script>
{% endblock %}
