{% extends "layouts/base.njk" %}
{% from "widgets/carousel.njk" import carousel %}
{% from "widgets/ad-placeholder.njk" import adPlaceholder %}
{% from "widgets/site-header.njk" import siteHeader %}
{% from "widgets/flashNews.njk" import flashNews %}
{% from "widgets/news-card.njk" import newsCard %}
{% from "widgets/footer.njk" import siteFooter %}
{% from "widgets/hero-title.njk" import heroTitle %}
{% from "widgets/featured-news-grid.njk" import featuredNewsGrid %}
{% from "widgets/category-feed.njk" import categoryFeed %}

{% block body %}
{% set brand = branding or {} %}
{{ siteHeader(brand, navCategories or []) }}

{# Flash News Ticker #}
{% if flashNewsItems and flashNewsItems | length %}
<div class="container">
  {{ flashNews('homepage-flash', flashNewsItems) }}
</div>
{% endif %}

<main class="site-main">
  {{ heroTitle('Son Dakika Haberleri') }}
  
  <section class="hero-carousel">
    {% if featuredArticles and featuredArticles | length %}
    {{ carousel('home-hero', featuredArticles) }}
    {% else %}
    <div class="container">
      <p>Şu anda öne çıkan haber bulunmuyor.</p>
    </div>
    {% endif %}
  </section>

  {{ featuredNewsGrid(featuredArticles) }}

  {% if categorySections and categorySections | length %}
  {% for section in categorySections %}
  {{ categoryFeed(section) }}
  {% endfor %}
  {% else %}
  <section class="category-section container">
    <p>Şu anda görüntülenecek kategori haberleri bulunmuyor.</p>
  </section>
  {% endif %}

  <section class="container">
    {{ adPlaceholder('home-mid', 'Reklam Alanı', '728x90') }}
  </section>
</main>

{{ siteFooter(brand, navCategories or []) }}
{% endblock %}

{% block scripts %}
{{ super() }}
<script src="{{ asset('js/carousel.js') }}" defer></script>
{% endblock %}

