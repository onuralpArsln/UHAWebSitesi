{% extends "cms/layouts/base.njk" %}
{% from "cms/components/sidebar.njk" import Sidebar %}
{% from "cms/components/topbar.njk" import TopBar %}
{% from "cms/components/stats.njk" import DashboardStats %}
{% from "cms/components/recent-articles.njk" import RecentArticles %}
{% from "cms/components/article-table.njk" import ArticleTable %}
{% from "cms/components/category-table.njk" import CategoryTable %}
{% from "cms/components/settings-form.njk" import SettingsForm %}
{% from "cms/components/article-editor.njk" import ArticleEditor %}
{% from "cms/components/branding-form.njk" import BrandingForm %}
{% from "cms/components/media-controls.njk" import MediaControls %}

{% set articles = initialState.articles or [] %}
{% set categories = initialState.categories or [] %}
{% set stats = initialState.stats or {} %}
{% set targetOptions = initialState.targetOptions or ['carousel', 'manset', 'anasayfa', 'akış'] %}
{% set branding = initialState.branding or {} %}

{% block body %}
{{ Sidebar('dashboard') }}
<main class="cms-main">
  {{ TopBar('Dashboard', branding.siteName or 'UHA News') }}

  <section id="dashboard" class="cms-section cms-section--dashboard active" data-cms="dashboard-section">
    <div class="cms-grid">
      {{ DashboardStats(stats) }}
      {{ RecentArticles(initialState.recentArticles or []) }}
    </div>
  </section>

  {{ ArticleTable(articles) }}

  {{ ArticleEditor(categories, targetOptions) }}

  {{ CategoryTable(categories) }}

  {{ MediaControls() }}

  {{ BrandingForm(branding) }}

  {{ SettingsForm(initialState.settings or {}) }}
</main>
{% endblock %}

